<!doctype html><html lang="pt-br"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Planos</title><link rel="stylesheet" href="/test/gestor/assets/styles.css"></head><body><button id="theme-toggle" class="theme-toggle btn secondary">Tema</button><div class="wrap"><div class="progress"><div class="step"><div class="dot"></div><span class="muted">Cadastro</span></div><div class="step"><div class="dot"></div><span class="muted">Login</span></div><div class="step"><div class="dot"></div><span class="muted">Academia</span></div><div class="step"><div class="dot"></div><span class="muted">Modalidades</span></div><div class="step"><div class="dot active"></div><span class="muted">Planos</span></div><div class="step"><div class="dot"></div><span class="muted">Professor</span></div><div class="step"><div class="dot"></div><span class="muted">Checkout</span></div></div><div class="card"><h2 class="title">Criar Plano</h2><label>Nome<input id="nome"></label><label>Descrição<input id="desc"></label><label>Valor<input id="valor" type="number" step="0.01"></label><label>Modalidades (IDs, vírgulas)<input id="mods"></label><div class="nav"><button class="btn secondary" onclick="location.href='/test/gestor/modalidades'">Voltar</button><div><button id="criar" class="btn">Criar</button><button id="listar" class="btn secondary">Listar meus planos</button></div></div><div id="status" class="status muted"></div></div><div class="card"><pre id="res" class="muted"></pre><div class="nav"><button class="btn" onclick="location.href='/test/gestor/professor'">Prosseguir</button></div></div></div><div id="toast" class="toast" style="display:none"></div><script type="module">import{request,toast,setStatus,applyTheme,toggleTheme,ensureTokenOrRedirect,resumeOnPageLoad}from'/test/gestor/assets/api.js';applyTheme();document.getElementById('theme-toggle').onclick=toggleTheme;ensureTokenOrRedirect();resumeOnPageLoad('/test/gestor/planos');document.getElementById('criar').onclick=async()=>{const nome=document.getElementById('nome').value.trim();const descricao=document.getElementById('desc').value.trim();const valor=Number(document.getElementById('valor').value);const raw=document.getElementById('mods').value.trim();const modalidadesDisponiveis=raw?raw.split(',').map(s=>s.trim()).filter(Boolean):[];if(!nome||!valor){toast('Informe nome e valor');return}const r=await request('POST','/api/gestor/planos',{nome,descricao,valor,modalidadesDisponiveis});setStatus(r.res.ok,'Criar: '+r.res.status);document.getElementById('res').textContent=JSON.stringify(r.data)};document.getElementById('listar').onclick=async()=>{const r=await request('GET','/api/gestor/planos');setStatus(r.res.ok,'Listar: '+r.res.status);document.getElementById('res').textContent=JSON.stringify(r.data)};</script></body></html>