<!doctype html><html lang="pt-br"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Professor â€” Passo 2 (Login)</title><link rel="stylesheet" href="/test/gestor/assets/styles.css"></head><body><button id="theme-toggle" class="theme-toggle btn secondary">Tema</button><div class="wrap"><div class="progress"><div class="step"><div class="dot"></div><span class="muted">Cadastro</span></div><div class="step"><div class="dot active"></div><span class="muted">Login</span></div><div class="step"><div class="dot"></div><span class="muted">Dados</span></div><div class="step"><div class="dot"></div><span class="muted">Dashboard</span></div></div><div class="card"><h2 class="title">Login do Professor</h2><label>Email<input id="email" type="email"></label><label>Senha<input id="senha" type="password"></label><div class="nav"><button class="btn secondary" id="back">Voltar</button><button class="btn" id="next">Entrar</button></div><div id="status" class="status muted"></div></div></div><div id="toast" class="toast" style="display:none"></div><script type="module">import{request,applyTheme,toggleTheme,saveCreds,setTokenSilently,setStatus,get}from'/test/gestor/assets/api.js';applyTheme();document.getElementById('theme-toggle').onclick=toggleTheme;(function prefill(){const e=document.getElementById('email');const s=document.getElementById('senha');if(e)e.value=get('gestor_email')||'';if(s)s.value=get('gestor_senha')||''})();document.getElementById('back').onclick=()=>{location.href='/test/professor/cadastro.html'};document.getElementById('next').onclick=async()=>{const email=(document.getElementById('email').value||'').trim();const senha=(document.getElementById('senha').value||'').trim();if(!email||!senha){alert('Informe email e senha');return}const r=await request('POST','/api/auth/login',{email,senha});setStatus(r.res.ok,'Login: '+r.res.status);if(r.res.ok&&r.data&&r.data.token){saveCreds(email,senha);setTokenSilently(r.data.token);location.href='/test/professor/dados.html'}}</script></body></html>